buildscript {

    repositories {
        mavenCentral()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }

    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
        classpath("org.springframework.boot:spring-boot-dependencies:${springBootVersion}")
		classpath("io.spring.gradle:dependency-management-plugin:${springGradlePlugin}")
    }
}

subprojects {

    apply plugin: "java-library"
	apply plugin: "io.spring.dependency-management"
	apply plugin: "org.springframework.boot"

    group = "com.example"
    version = "0.0.1-SNAPSHOT"

    java {
        sourceCompatibility = "17"
    }

    repositories {
        mavenCentral()
    }

    dependencies {
        implementation "org.springframework.boot:spring-boot-starter-web"
        implementation "org.springframework.boot:spring-boot-starter-thymeleaf"

        // データベースの接続
        implementation "com.mysql:mysql-connector-j"
        implementation "org.hibernate.orm:hibernate-core"
        implementation "com.zaxxer:HikariCP"

        compileOnly "org.projectlombok:lombok:${lombok}"
        annotationProcessor "org.projectlombok:lombok:${lombok}"

	}
}

project(":00-SpringSecurityUtils") {

    dependencies {

        implementation "org.springframework.boot:spring-boot-starter-security"
    }
}

project(":01-SpringSecurityHello") {

    dependencies {
        implementation project(":00-SpringSecurityUtils")
        implementation "org.springframework.session:spring-session-core"
        implementation "org.springframework.session:spring-session-jdbc"



    }
}


project(":02-SpringSecurityRest") {

    dependencies {

        implementation project(":00-SpringSecurityUtils")
        implementation "org.springframework.boot:spring-boot-starter-oauth2-resource-server"

    }
}


project(":03-SpringSecurityOAuth2-Google") {

    dependencies {

        implementation project(":00-SpringSecurityUtils")
        //OAuth
        implementation 'org.springframework.security:spring-security-oauth2-client'
        implementation 'org.springframework.security:spring-security-oauth2-jose'
    }
}


project(":03-SpringSecurityOAuth2-Keycloak") {

    dependencies {

        implementation project(":00-SpringSecurityUtils")
        implementation "org.springframework.boot:spring-boot-starter-oauth2-resource-server"
        //OAuth
        implementation 'org.springframework.security:spring-security-oauth2-client'
        implementation 'org.springframework.security:spring-security-oauth2-jose'
        implementation "org.springframework.boot:spring-boot-starter-data-jpa"
    }
}


project(":04-SpringSecuritySAML2") {

    dependencies {

        implementation project(":00-SpringSecurityUtils")
        implementation "org.springframework.boot:spring-boot-starter-oauth2-resource-server"

    }
}


project(":99-SpringSecurityTest") {

    dependencies {
        implementation project(":00-SpringSecurityUtils")


//        implementation "org.springframework.session:spring-session-jdbc"
//        implementation "org.springframework.session:spring-session"
//        implementation "org.springframework.session:spring-core"
    }
}







